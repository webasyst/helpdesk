/*
 * Webasyst Mobile 2.0 theme family
 *
 * Helpdesk app CSS
 * (requires linking base default.css file from the Site app)
 *
 * @link http://www.webasyst.com/
 * @author Webasyst LLC
 * @copyright 2014 Webasyst LLC
 * @package Webasyst
 */

@import "../../../../site/themes/mobile/styl/variables.styl";

.wa-helpdesk-wrapper
    padding: 0.5rem;

    & > h1
        margin-left: 0.5rem

    .page-content
        $default-block()

        &.faq-category
            h3
                border: solid rgba(123,123,123,0.4);
                border-width: 0 0 0 2px;

                a
                    display block
                    padding: 0.5rem;
                    background: #f9f9f9;
                    text-decoration none

    .wa-form
        margin: 1rem 0;
        overflow: visible;
        width: 100%;

        .wa-field
            clear: left;
            margin: 1rem 0 0;
            padding-top: 0;
            width: 100%;

            &:first-child
                margin-top: 0

            .wa-name
                float: none;
                width: auto;
                padding-top: 0;
                padding-bottom: 0;
                font-size: 0.95em;

            &.wa-separator
                height: 10px;

            &.fld_type_checkbox
                position relative

                .wa-name
                    float: none;
                    margin-left: 0
                    padding-left: 2rem
                    width: 100%;
                    
                .wa-value
                    position absolute
                    top: 0;
                    left: 0;
                    float: none;
                    width: 2rem;
                    text-align center
                    margin-left: 0;
                    margin-top: 0;

                .errormsg
                    margin-left: 0; width: 100%;

            &.above
                .wa-name
                    float:none; width: 100%; max-width: 100%;

                .wa-value
                    margin-left: 0;

                    input[type="text"]
                    input[type="email"]
                    input[type="password"]
                        min-width: 100%;

                    textarea
                        min-width: 100%;
                        width: 100%;
                        height: 5em;

                &.subfields-placeholder
                    .field
                        input[type="text"]
                        input[type="email"]
                        input[type="password"]
                            float: left; min-width: 100%; display: block;

                        select
                            float: left; width: 100%; display: block;

                        textarea
                            float: left; min-width: 100%; display: block;

            .wa-value
                margin-left: 0; 
                margin-bottom: 0;
                position: relative;

                &.buttons
                    margin-left: 0;

                input.wa-error
                    border: 2px solid red;

                .wa-error-msg
                    font-size: 0.9em; color: red; display: block;

                input[type="text"]
                input[type="email"]
                input[type="password"]
                    width: 100%;
                    min-width: 100%;
                    margin:0;

                textarea
                    min-width: 100%;
                    width: 100%;
                    height: 5em;

                &.wa-submit
                    margin-top: 0;

                &.subfields-left
                    margin-top: 0;

                    p
                        width: 100%;
                        max-width: 100%;

                    .field
                        float: left;
                        width: 100%;
                        margin: 1rem 0 0;

                        & > span
                            float:left;
                            width: auto;
                            display: block;

                    input[type="text"],
                    input[type="email"],
                    input[type="password"]
                        float: left; min-width: 100%; display: block;

                    select
                        float: left; width: 100%; display: block;
                    textarea
                        float: left; min-width: 100%; display: block;

                &.subfields-placeholder
                    margin-top: 0;

                    .field
                        float: left;
                        width: 100%;
                        margin: 1rem 0 0;

                        & > span
                            display: none;

                        input[type="text"]
                        input[type="email"]
                        input[type="password"]
                            float: left; min-width: 100%; display: block;

                        select
                            float: left; width: 100%; display: block;

                        textarea
                            float: left; min-width: 100%; display: block;

            &.none
                .wa-name
                    display: none;

                .wa-value
                    margin-left: 0;

                    input[type="text"]
                    input[type="email"]
                    input[type="password"]
                        min-width: 100%;

                    select
                        min-width: 100%;

                    textarea
                        min-width: 100%; width: 100%; height: 5em;

                &.subfields-left
                    input[type="text"]
                    input[type="email"]
                    input[type="password"]
                        min-width: 100%

                    select
                        min-width: 100%;
                    textarea
                        min-width: 100%; width: 100%; height: 5em;

        .wa-captcha
            padding: 0;
            float: left;

            p
                margin: 0;

            strong
                font-size: 1.2em;

            img
                float: left !important;
                margin-right: 0;
                margin-top: 0;

            input[type="text"]
                width: 4em !important;
                min-width: 4em !important;

            .wa-captcha-refresh
                display: inline-block; clear: left; font-size: 0.8em; text-decoration: underline; color: #aaa;

            .errormsg
                display: inline; margin-left: 0;

        input.error
        textarea.error
            border: 2px solid red; color: red;

        .errormsg
            color: red;
            display: block;
            font-weight: normal;
            font-size: 1em;
            margin-left: 0;

    // Hack
    iframe
        right: 200%
        bottom: 200%
        position absolute
        visibility hidden

    .request-page-wrapper
        $default-block()

        .request
            margin: 1rem 0 0
            width: 100%;

            &:first-child
                margin-top: 0

            .request-text
                padding: 0.5rem
                background: #fbfbfb
                $border-radius(5px)

        .log
            padding: 0.25em;
            border-top: 1px solid #ddd;

            .details.text
                img
                    max-width: 100%

        .attachment
            margin-top: 1rem;
            padding: 0.5em;
            background: #eee;

        .show-quote
            color: #500050;
            font-size: 0.6em;
            margin: 0.5em 0.15em;

        .info-block-wrapper
            margin-bottom: 12px;
            padding: 3px;

            .info-block
                padding: 1rem;

                p:last-child
                    margin-bottom: 0;

            .green&
                background-color: #E7F1E9;

                .info-block
                    border: 2px dashed #34B634;

        .reques-status
            display inline-block
            padding: 0 0.25em
            background: #f0f0f0
            font-size: 60%;
            $border-radius(5px)

        .request-created
            color: #999

        .wa-form
            .wa-field
                .wa-name
                    font-size: 0.8em;
                    text-transform: uppercase;
                    color: #369;

                .wa-value
                    font-size: 1.2em

    .requests-list-wrapper

        .request-item
            $default-block()

            .left-column
                float: left
                width: 49.9%

            .right-column
                float: right
                width: 49.9%
                text-align right
                color: #888

            .left-column
            .right-column
                color #999

                a
                    color: #080808

            a
                text-decoration none

            .request-text
                margin: 0.5rem 0 0
                font-size: 1.1rem

                .text
                    padding: 0

                .state
                    font-size: 0.9em
                    opacity: 0.66
